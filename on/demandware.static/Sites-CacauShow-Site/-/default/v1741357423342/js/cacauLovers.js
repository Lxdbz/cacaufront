!function(){"use strict";var a,e={6636:function(){function a(a){let e=$("#cashbackForm");e.html(a),e.addClass("is-invalid")}function e(a){$(".cashback-balance").html(a.cashbackBalance),$(".order-total-summary").html(a.orderTotalSummary),$(".card-installments").html(a.installments),$(".wallet__valUpdate").text(a.currentBalanceFromWallet),$(".wallet__future").text(a.futureBalanceFromWallet)}$(".remove-cashback").on("click",(function(t){t.preventDefault(),t.stopPropagation(),$(".checkout__step:eq(1)").addClass("is__loading");const s={csrf_token:$("#cashbackForm input[name=csrf_token]").val()};$("#cashbackAmount").val(""),$(".message__wallet").empty(),$.ajax({url:$(this).attr("data-action-url"),type:"GET",data:s,dataType:"json",success:a=>{$(".checkout__step:eq(1)").removeClass("is__loading"),a.error&&a.errorMessage?$(".message__wallet").text(a.errorMessage):($(this).addClass("d-none"),$(".checkout__futureWallet").addClass("d-none"),$(".add-cashback, #cashbackAmount, #dwfrm_billing ,.title__balance").removeClass("d-none"),e(a),$(".payment-options-block").removeClass("payment-disabled"),$(".next-summary").addClass("btn-disabled").removeClass("js-finish-order-giftcard").data("next-gift","false"))},error:e=>{$(".checkout__step:eq(1)").removeClass("is__loading"),a(e)}})})),$(".add-cashback").on("click",(function(){!function(){let t=$("#cashbackForm");$(".checkout__step:eq(1)").addClass("is__loading"),$(".message__wallet").empty();const s={csrf_token:$("#cashbackForm input[name=csrf_token]").val(),dwfrm_cashback_amount:$("#cashbackForm #cashbackAmount").val().replaceAll(".","").replaceAll(",",".")};$.ajax({url:t.attr("action"),type:"POST",dataType:"json",data:s,success:a=>{$(".checkout__step--active").removeClass("is__loading"),e(a);const t=$("#selectedPaymentOption");a.error&&a.errorMessage?$(".message__wallet").text(a.errorMessage):($(".add-cashback, #cashbackAmount, .title__balance").addClass("d-none"),$(".remove-cashback, .checkout__futureWallet").removeClass("d-none"),a.hasCashbackCoveredFullAmount?($(".next-summary").removeClass("btn-disabled").addClass("js-finish-order-giftcard").removeClass("js-finish-creditcard").data("next-gift","true"),$("#dwfrm_billing").addClass("d-none")):($(".next-summary").removeClass("js-finish-order-giftcard").data("next-gift","false"),$("#dwfrm_billing").removeClass("d-none")),a.totalValue<=0?("CASHBACK"!==t.val()&&$("#selectedPaymentOption").data("previous-value",t.val()),$("#selectedPaymentOption").val("CASHBACK"),$(".payment-options-block").addClass("payment-disabled")):t.data("previous-value")&&(t.val(t.data("previous-value")),$(".payment-options-block").removeClass("payment-disabled")))},error:e=>{$(".checkout__step:eq(1)").removeClass("is__loading"),a(e.errorMessage)}})}()}))},8295:function(a){a.exports=function(a){"function"==typeof a?a():"object"==typeof a&&Object.keys(a).forEach((function(e){"function"==typeof a[e]&&a[e]()}))}}},t={};function s(a){var o=t[a];if(void 0!==o)return o.exports;var n=t[a]={exports:{}};return e[a](n,n.exports,s),n.exports}a=s(8295),$(document).ready((function(){a(s(6636))}))}();